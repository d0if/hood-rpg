[gd_scene load_steps=16 format=3 uid="uid://dywsyd3peqxoc"]

[ext_resource type="Texture2D" uid="uid://746ihp1h66px" path="res://Art/tilesets/room tileset/room floor + walls.png" id="2_kqru2"]
[ext_resource type="Texture2D" uid="uid://da4857bocboi7" path="res://Art/tilesets/room tileset/gooner desk.png" id="3_6diej"]
[ext_resource type="Texture2D" uid="uid://d1wylc766nlsu" path="res://Art/tilesets/room tileset/bed.png" id="4_mnkg7"]
[ext_resource type="Texture2D" uid="uid://briqkbecqnlwk" path="res://Art/tilesets/interior tilesets/apt interior tiles.png" id="5_5a5r5"]
[ext_resource type="PackedScene" uid="uid://cq6vwjq76mc7s" path="res://Scenes/player.tscn" id="6_hk56f"]
[ext_resource type="PackedScene" uid="uid://bbsav1rsm67u2" path="res://Scenes/door.tscn" id="7_wfu74"]
[ext_resource type="Script" path="res://Scripts/Base scripts/world script.gd" id="8_tb1qe"]

[sub_resource type="GDScript" id="GDScript_pin7v"]
script/source = "extends Node2D

#var target_scene = \"\"

# Called when the node enters the scene tree for the first time.
func _ready():
	#print (Global.current_scene + \"retard\")
	pass



#func _process(delta):
	#change_scenes()


#func _on_apt_room_exit_body_entered(body):
	#if body.has_method(\"player\"):
		#Global.transition_scene = true
		#target_scene = \"apartment_inside\"


#func _on_apt_room_exit_body_exited(body):
	#if body.has_method(\"player\"):
		#Global.transition_scene = false

#func change_scenes():
	#if Global.transition_scene == true:
		#if Global.current_scene == \"apt_room\":
			#Global.finish_changescenes(target_scene)
"

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ewgpn"]
texture = ExtResource("2_kqru2")
0:0/size_in_atlas = Vector2i(4, 4)
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
4:0/size_in_atlas = Vector2i(4, 4)
4:0/0 = 0
4:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:0/0/physics_layer_0/angular_velocity = 0.0
8:0/size_in_atlas = Vector2i(4, 4)
8:0/0 = 0
8:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
8:0/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_2e6n3"]
texture = ExtResource("3_6diej")
0:0/size_in_atlas = Vector2i(8, 4)
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-60.1041, -28.9914, -2.12132, -33.234, 58.6899, -26.8701, 58.6899, -2.12132, -60.8112, -2.82842)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_18rh8"]
texture = ExtResource("4_mnkg7")
0:0/size_in_atlas = Vector2i(4, 8)
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-22.6274, -62.2254, 26.8701, -62.2254, 28.2843, 59.397, -21.9203, 60.1041)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_rwi5f"]
texture = ExtResource("5_5a5r5")
12:0/size_in_atlas = Vector2i(4, 4)
12:0/0 = 0
12:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
12:0/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="TileSet" id="TileSet_16xmb"]
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_ewgpn")
sources/1 = SubResource("TileSetAtlasSource_2e6n3")
sources/2 = SubResource("TileSetAtlasSource_18rh8")
sources/3 = SubResource("TileSetAtlasSource_rwi5f")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6eidw"]
size = Vector2(68, 35)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vmxla"]
size = Vector2(77, 32.5)

[node name="apt_room" type="Node2D"]
script = SubResource("GDScript_pin7v")

[node name="TileMap" type="TileMap" parent="."]
tile_set = SubResource("TileSet_16xmb")
format = 2
layer_0/tile_data = PackedInt32Array(1048602, 0, 0, 786458, 0, 0, 524314, 0, 0, 262170, 0, 0, 262174, 0, 0, 524318, 0, 0, 786462, 0, 0, 1048606, 0, 0, 1048610, 0, 0, 786466, 0, 0, 524322, 0, 0, 262178, 0, 0, 1310746, 0, 0, 1048598, 0, 0, 786454, 0, 0, 524310, 0, 0, 262166, 0, 0, 22, 262144, 0, 30, 262144, 0, 38, 524288, 0, 262182, 524288, 0, 524326, 524288, 0, 786470, 524288, 0, 1048614, 524288, 0, 1310758, 524288, 0, 1310754, 524288, 0, 1310750, 524288, 0, 1310742, 524288, 0, 1310738, 524288, 0, 1048594, 524288, 0, 786450, 524288, 0, 524306, 524288, 0, 262162, 524288, 0, 18, 524288, 0, 1572886, 524288, 0, 1572890, 524288, 0, 1572894, 524288, 0, 34, 786435, 0, 26, 786435, 0, -262126, 524288, 0, -262122, 524288, 0, -262118, 524288, 0, -262114, 524288, 0, -262110, 524288, 0, -262106, 524288, 0)
layer_1/name = "objects"
layer_1/tile_data = PackedInt32Array(262169, 1, 0, 720930, 2, 0)

[node name="StaticBody2D" type="StaticBody2D" parent="TileMap"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="TileMap/StaticBody2D"]
polygon = PackedVector2Array(391, 359, 392, 297, 328, 296, 328, 38, 327, -9, 593, -10, 587, 42, 587, 296, 458, 297, 458, 361, 398, 362, 410, 392, 591, 383, 708, 328, 718, 193, 722, 62, 704, -31, 623, -78, 511, -68, 322, -49, 194, -33, 151, 45, 149, 215, 176, 289, 280, 368, 346, 388)

[node name="Player" parent="." instance=ExtResource("6_hk56f")]
position = Vector2(421, 267)
scale = Vector2(3, 3)

[node name="apt_room_exit" type="Area2D" parent="."]
visible = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="apt_room_exit"]
position = Vector2(425, 343.5)
shape = SubResource("RectangleShape2D_6eidw")

[node name="room-door-test" parent="." instance=ExtResource("7_wfu74")]
metadata/Pairing = "apt1"
metadata/Target = "apartment_inside"

[node name="DOOR COLLISION" parent="room-door-test/Area2D" index="0"]
position = Vector2(425, 345.25)
shape = SubResource("RectangleShape2D_vmxla")

[node name="EXIT POSITION" parent="room-door-test" index="1"]
position = Vector2(426, 286)

[node name="base_world_scene" type="Node" parent="."]
script = ExtResource("8_tb1qe")

[connection signal="body_entered" from="apt_room_exit" to="." method="_on_apt_room_exit_body_entered"]
[connection signal="body_exited" from="apt_room_exit" to="." method="_on_apt_room_exit_body_exited"]

[editable path="room-door-test"]
