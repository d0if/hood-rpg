[gd_scene load_steps=10 format=3 uid="uid://d3pqtdw6gxw0y"]

[ext_resource type="Texture2D" uid="uid://2tuteuw14x0m" path="res://Art/tilesets/chingy interior/chingy interior.png" id="1_674ju"]
[ext_resource type="PackedScene" uid="uid://cq6vwjq76mc7s" path="res://Scenes/player.tscn" id="2_ylldb"]
[ext_resource type="PackedScene" uid="uid://bbsav1rsm67u2" path="res://Scenes/door.tscn" id="4_dti45"]
[ext_resource type="Script" path="res://Scripts/Base scripts/world script.gd" id="5_yow06"]

[sub_resource type="GDScript" id="GDScript_v3xid"]
script/source = "extends Node2D

#var target_scene = \"\"


#func _ready():
	#Global.current_scene = \"Chingy\"
	#if Global.paired_door != \"\":
		#print(\"looking for paired door\")
		#print_tree_pretty()
		#var door = get_tree().get_nodes_in_group(\"doors\")
		#if door[0]:
			#print(\"paired door found\")
			#door[0].move_player_to_exit()
			#Global.paired_door = \"\"


#func _process(delta):
	#change_scenes()


#func _on_chingy_exit_body_entered(body):
	#if body.has_method(\"player\"):
		#Global.transition_scene = true
		#target_scene = \"world\"


#func _on_chingy_exit_body_exited(body):
	#if body.has_method(\"player\"):
		#Global.transition_scene = false

#func change_scenes():
	#if Global.transition_scene == true:
		#if Global.current_scene == \"Chingy\":
			#Global.finish_changescenes(target_scene)
"

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_fyf4e"]
texture = ExtResource("1_674ju")
0:0/size_in_atlas = Vector2i(4, 4)
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
4:0/size_in_atlas = Vector2i(4, 4)
4:0/0 = 0
4:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:0/0/physics_layer_0/angular_velocity = 0.0
4:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-33.5, -32.5, 32.5, -32.5, 32.5, 13, 8.5, 13.5, -34.5, 14)
8:0/size_in_atlas = Vector2i(4, 4)
8:0/0 = 0
8:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
8:0/0/physics_layer_0/angular_velocity = 0.0
8:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32.5, -27, 31, -27.5, 30.5, -8, -31.5, -7.5)
12:0/size_in_atlas = Vector2i(4, 4)
12:0/0 = 0
12:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
12:0/0/physics_layer_0/angular_velocity = 0.0
12:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32.5, -27, 31, -27.5, 30.5, -8, -31.5, -7.5)
16:0/size_in_atlas = Vector2i(4, 4)
16:0/0 = 0
16:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
16:0/0/physics_layer_0/angular_velocity = 0.0
16:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-10, -12.5, -0.25, -16.25, 11.5, -11.25, 16, 1.25, 12.75, 10, 1.25, 16.75, -10.5, 12.75, -16.25, 0)
20:0/size_in_atlas = Vector2i(4, 4)
20:0/0 = 0
20:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
20:0/0/physics_layer_0/angular_velocity = 0.0
20:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-33.5, -32.5, 33.5, -32, 32.5, 32, 10, 32.5, -33, 31.5)

[sub_resource type="TileSet" id="TileSet_1n3on"]
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_fyf4e")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_rld3i"]
size = Vector2(135, 24)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0u8oc"]
size = Vector2(128, 20)

[node name="Chingy" type="Node2D"]
script = SubResource("GDScript_v3xid")

[node name="TileMap" type="TileMap" parent="."]
tile_set = SubResource("TileSet_1n3on")
format = 2
layer_0/name = "ground"
layer_0/tile_data = PackedInt32Array(1572893, 0, 0, 1572897, 0, 0, 1310753, 0, 0, 1310749, 0, 0, 1310745, 0, 0, 1310741, 0, 0, 1310757, 0, 0, 1310761, 0, 0, 1310765, 0, 0, 1310737, 0, 0, 1048593, 0, 0, 1048597, 0, 0, 1048601, 0, 0, 1048605, 0, 0, 1048609, 0, 0, 1048613, 0, 0, 1048617, 0, 0, 1048621, 0, 0, 786477, 0, 0, 786473, 0, 0, 786469, 0, 0, 786465, 0, 0, 786461, 0, 0, 786457, 0, 0, 786453, 0, 0, 786449, 0, 0, 524305, 0, 0, 524309, 0, 0, 524313, 0, 0, 524317, 0, 0, 524321, 0, 0, 524325, 0, 0, 524329, 0, 0, 524333, 0, 0)
layer_1/name = "walls"
layer_1/tile_data = PackedInt32Array(1835037, 262144, 0, 1835041, 262144, 0, 1572901, 262144, 0, 1572905, 262144, 0, 1572909, 262144, 0, 1572889, 262144, 0, 1572885, 262144, 0, 1572881, 262144, 0, 262161, 262144, 0, 262165, 262144, 0, 262169, 262144, 0, 262173, 262144, 0, 262177, 262144, 0, 262181, 262144, 0, 262185, 262144, 0, 262189, 262144, 0, 262193, 1310720, 0, 524337, 1310720, 0, 786481, 1310720, 0, 1048625, 1310720, 0, 1310769, 1310720, 0, 1572913, 1310720, 0, 1835045, 1310720, 0, 1835033, 1310720, 0, 1572877, 1310720, 0, 1310733, 1310720, 0, 1048589, 1310720, 0, 786445, 1310720, 0, 524301, 1310720, 0, 262157, 1310720, 0)
layer_2/name = "objects"
layer_2/tile_data = PackedInt32Array(655377, 524288, 0, 655381, 524288, 0, 655385, 786432, 0, 655389, 524288, 0, 1048617, 1048576, 0, 1048597, 1048576, 0, 786469, 1048576, 0, 1048605, 1048576, 0, 524333, 1048576, 0)

[node name="Player" parent="." instance=ExtResource("2_ylldb")]
position = Vector2(500, 365)
scale = Vector2(2.5, 2.5)

[node name="Chingy Exit" type="Area2D" parent="."]
visible = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="Chingy Exit"]
position = Vector2(504.5, 416)
shape = SubResource("RectangleShape2D_rld3i")

[node name="chingy-door-test" parent="." instance=ExtResource("4_dti45")]
editor_description = "HOW TO SETUP DOOR:
1: in desired scene hit chain button (instantiate child scene). add door
2: go to inspector (right side) hit screwdriver wrench button and click \"make subresources unique\"
3: move door hitbox & exit position
4: in inspector, go to metadata dropdown. \"Target\" will select the scene that the door takes you to & \"Pairing\" needs to match between in/out doors (can be anythign)"
metadata/Pairing = "Chingy"
metadata/Target = "world"

[node name="DOOR COLLISION" parent="chingy-door-test/Area2D" index="0"]
position = Vector2(503, 412)
shape = SubResource("RectangleShape2D_0u8oc")

[node name="EXIT POSITION" parent="chingy-door-test" index="1"]
position = Vector2(502, 368)

[node name="Node" type="Node" parent="."]

[node name="base_world_scene" type="Node" parent="."]
script = ExtResource("5_yow06")

[connection signal="body_entered" from="Chingy Exit" to="." method="_on_chingy_exit_body_entered"]
[connection signal="body_exited" from="Chingy Exit" to="." method="_on_chingy_exit_body_exited"]

[editable path="chingy-door-test"]
